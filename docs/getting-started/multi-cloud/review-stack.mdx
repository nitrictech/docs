Before we start running our new stack locally, let's review some of the generated stack files under the newly created `nitric-tutorial` directory:

<ShowIf lang="node">

- `nitric.yaml` defines the [Stack](/docs/intro/concepts/stacks).
- `api.yaml` defines the [API](/docs/intro/concepts/nitric-apis).
- Three [Functions](/docs/intro/concepts/functions) are generated:
  - `functions/create.ts` is the function that creates new documents.
  - `functions/list.ts` is the function that lists multiple documents.
  - `functions/read.ts` is the function that can read a single document.

</ShowIf>
<ShowIf lang="python">

- `nitric.yaml` defines the [Stack](/docs/intro/concepts/stacks).
- `api.yaml` defines the [API](/docs/intro/concepts/nitric-apis).
- Three [Functions](/docs/intro/concepts/functions) are generated:
  - `functions/create.py` is the function that creates new documents.
  - `functions/list.py` is the function that lists multiple documents.
  - `functions/read.py` is the function that can read a single document.

</ShowIf>
<ShowIf lang="java">

- `nitric.yaml` defines the [Stack](/docs/intro/concepts/stacks).
- `api.yaml` defines the [API](/docs/intro/concepts/nitric-apis).
- Three [Functions](/docs/intro/concepts/functions) are generated:
  - `functions/Create.java` is the function that creates new documents.
  - `functions/List.java` is the function that lists multiple documents.
  - `functions/Read.java` is the function that can read a single document.

</ShowIf>
<ShowIf lang="go">

- `nitric.yaml` defines the [Stack](/docs/intro/concepts/stacks).
- `api.yaml` defines the [API](/docs/intro/concepts/nitric-apis).
- Three [Functions](/docs/intro/concepts/functions) are generated:
  - `functions/create/main.go` is the function that creates new documents.
  - `functions/list/main.go` is the function that lists multiple documents.
  - `functions/read/main.go` is the function that can read a single document.

</ShowIf>

Let's take a look at the `create` function more closely:

<CodeExamples 
	languages={[
	{
		label: "Node",
		value: "node"
	},
	{
		label: "Python",
		value: "python"
	},
	{
		label: "Java",
		value: "java"
	},
	{
		label: "Go",
		value: "go"
	},
	]}
	defaultLang="node"
>

<CodeExample lang="node">

```typescript
import { faas, documents } from '@nitric/sdk';
import { Example } from '../common';
import { uuid } from 'uuidv4';

interface CreateContext extends faas.HttpContext {
  req: faas.HttpRequest & {
    body?: Example;
  };
}

// Start your function here
faas
  .http(
    faas.json(), //  use json body parser middleware to decode data
    async (ctx: CreateContext): Promise<faas.HttpContext> => {
      const example = ctx.req.body;

      // generate a new uuid
      const id = uuid();

      // Create a new example document
      await documents().collection('examples').doc(id).set(example);

      ctx.res.body = new TextEncoder().encode(`Created example with ID: ${id}`);

      return ctx;
    }
  )
  .start();
```

</CodeExample>

<CodeExample lang="python">

```python
from nitric.faas import start, Trigger
from nitric.api import Documents

from common.example import generate_id


async def handler(trigger: Trigger) -> str:
    example = trigger.get_object()

    doc_id = generate_id()

    await Documents().collection("examples").doc(doc_id).set(example)

    return f'Created example with ID: {doc_id}'


if __name__ == "__main__":
    start(handler)
```

</CodeExample>

<CodeExample lang="java">

```java
package function;

import java.io.IOException;
import java.util.UUID;

import common.Example;
import com.fasterxml.jackson.databind.ObjectMapper;

import io.nitric.api.document.Documents;
import io.nitric.faas.Faas;

public class Create {

    public static void main(String[] args) {
        new Faas()
            .http(context -> {
                try {
                    var json = context.getRequest().getDataAsText();
                    var example = new ObjectMapper().readValue(json, Example.class);
                    var id = UUID.randomUUID().toString();

                    new Documents().collection("examples").doc(id, Example.class).set(example);

                    context.getResponse()
                        .text("Created example with ID: %s", id);

                } catch (IOException ioe) {
                    context.getResponse()
                        .status(500)
                        .text("error: %s", ioe);
                }

                return context;
            })
            .start();
    }

}
```

</CodeExample>

<CodeExample lang="go">

```go
package main

import (
	"fmt"

	"github.com/google/uuid"
	"github.com/nitrictech/go-sdk/api/documents"
	"github.com/nitrictech/go-sdk/faas"
	"nitric.io/example-service/common"
)

// NitricFunction - Handles individual function requests (http, events, etc.)
func NitricFunction(trigger *faas.NitricTrigger) (*faas.NitricResponse, error) {
	id := uuid.New().String()
	resp := trigger.DefaultResponse()

	example := &common.Example{}

	if err := trigger.GetDataAsStruct(example); err != nil {
		return nil, err
	}

	dc, err := documents.New()

	if err != nil {
		return nil, err
	}

	if err := dc.Collection("examples").Doc(id).Set(example.Map()); err != nil {
		return nil, err
	}

	resp.SetData([]byte(fmt.Sprintf("Created example with ID: %s", id)))

	return resp, nil
}

func main() {
	if err := faas.Start(NitricFunction); err != nil {
		fmt.Println(err)
	}
}
```

</CodeExample>

</CodeExamples>

This function achieves the following:

- Takes an example from the request object.
- Generates a unique id for the new document.
- Creates the new example document in the `examples` collection.

Next, youâ€™ll run your stack locally. ðŸš€
