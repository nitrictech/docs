---
description: 'Nitric Secret'
---

# Secrets

## 1. System Context

**Developers** use Nitric to declare secrets within their application.

- App code uses the [Secrets resource](/secrets) from the Nitric SDK.
- Developers configure secrets and implement application logic to securely access and manage these secrets.

**Operations** use default or overridden Terraform modules to provision the necessary resources for their target cloud.

<details>
  <summary>Example AWS Provider</summary>

- **AWS Secrets Manager** stores and manages secrets.
- **AWS IAM** provides roles/policies for secure access to secrets.

```mermaid
flowchart TD
    Developer["Developer"]
    Operations["Operations"]
    App["nitric up"]
    Secrets["AWS Secrets Manager"]
    Lambda["AWS Lambda Functions"]
    IAM["AWS IAM"]

    Developer -->|Code| App
    Operations -->|Terraform| App
    App -->|Create Secret| Secrets
    Lambda -->|Access Secret| Secrets
    App -->|Provide Access| IAM
    IAM -->Secrets

classDef default line-height:1;
classDef edgeLabel line-height:2;
```

</details>
<details>
  <summary>Example GCP Provider</summary>

- **Google Secret Manager** stores and manages secrets.
- **Google IAM** provides roles/policies for secure access to secrets.

```mermaid
flowchart TD
    Developer["Developer"]
    Operations["Operations"]
    App["nitric up"]
    Secrets["Google Secret Manager"]
    CloudFunctions["Google Cloud Functions"]
    IAM["Google IAM"]

    Developer -->|Code| App
    Operations -->|Terraform| App
    App -->|Create Secret| Secrets
    CloudFunctions -->|Access Secret| Secrets
    App -->|Provide Access| IAM
    IAM -->Secrets

classDef default line-height:1;
classDef edgeLabel line-height:2;
```

</details>

## 2. Sequence

```mermaid
sequenceDiagram
    participant Client as Client
    participant NitricSDK as Nitric SDK
    participant NitricRuntime as Nitric Runtime
    participant SecretManager as Cloud Secret Manager (e.g., AWS Secrets Manager, GCP Secret Manager)

    Client->>NitricSDK: Perform secret operation (e.g., get, set, delete)
    NitricSDK->>NitricRuntime: Forward secret API call
    NitricRuntime->>SecretManager: Execute secret operation

    alt Successful Operation
        SecretManager-->>NitricRuntime: Return result (e.g., secret value, success status)
        NitricRuntime-->>NitricSDK: Return result
        NitricSDK-->>Client: Return result to client
    else Failure
        SecretManager-->>NitricRuntime: Return error
        NitricRuntime-->>NitricSDK: Forward error
        NitricSDK-->>Client: Return error response
    end
```

## 3. Component

### Secrets Module

- Dynamically creates and manages secure storage for sensitive information, ensuring confidentiality and integrity.
- Configures secrets with appropriate metadata or tags for easy identification, tracking, and management.
- Enforces access control policies to restrict secret usage to authorized applications or services, following the principle of least privilege.
- Supports versioning of secrets to facilitate secure updates and rollback capabilities without service disruption.
- Provides seamless integration with application workflows by enabling dynamic retrieval and management of secrets.
- Abstracts the complexity of underlying secret management systems, allowing developers and operators to interact with a unified interface regardless of the cloud provider.

## 4. Code

**Developers** write application code that imports the 'secret' resource from the SDK, configures the secret, and implements the application logic to access and manage secrets.

SDK Reference by language -

- [NodeJS SDK](/reference/nodejs/secrets/secret)
- [Python SDK](/reference/python/secrets/secret)
- [GO SDK](/reference/go/secrets/secret)
- [Dart SDK](/reference/dart/secrets/secret)

**Operations** will use or extend the Nitric Terraform reference modules:

- [AWS Secret Terrform Module](https://github.com/nitrictech/nitric/blob/main/cloud/aws/deploytf/.nitric/modules/secret/main.tf)
- [GCP Secret Terrform Module](https://github.com/nitrictech/nitric/blob/main/cloud/gcp/deploytf/.nitric/modules/secret/main.tf)
