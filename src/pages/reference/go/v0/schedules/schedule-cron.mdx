export const description =
  "Reference for Nitric's Go library - Sets the cron expression and one or many handlers to be triggered."

# Go - schedule.cron()

Sets the cron expressions that determines when the schedule triggers and a callback to be triggered.

```go
import (
	"fmt"

	"github.com/nitrictech/go-sdk/faas"
	"github.com/nitrictech/go-sdk/resources"
)

func main() {
  resources.NewSchedule("archive-data").Cron("0 1 1 * *", func (ctx *faas.EventContext, _ faas.EventHandler) (*faas.EventContext, error) {
    fmt.Println("archiving data")

    return ctx, nil
  })

	if err := resources.Run(); err != nil {
		fmt.Println(err)
	}
}
```

## Parameters

<Properties>
  <Property name="expression" required type="string">
    The expression that sets when the schedule will be triggered. This value
    should be a standard 5 value Unix cron expression, e.g., '0 1 1 * *'.
  </Property>
  <Property name="middleware" required type="EventMiddleware">
    One or more callback functions to use as the handler which will run on the
    defined frequency.
  </Property>
</Properties>

## Examples

### Create a Schedule

```go
import (
	"fmt"

	"github.com/nitrictech/go-sdk/faas"
	"github.com/nitrictech/go-sdk/resources"
)

func main() {
  // every 15 minutes
  resources.NewSchedule("check for updates").Cron("0/15 * * * *", func (ctx *faas.EventContext, _ faas.EventHandler) (*faas.EventContext, error) {
    fmt.Println("checking for updates")

    return ctx, nil
  })

  // at 1:00am on the 1st of every month
  resources.NewSchedule("delete stale data").Cron("0 1 1 * *", func (ctx *faas.EventContext, _ faas.EventHandler) (*faas.EventContext, error) {
    fmt.Println("deleting stale data")

    return ctx, nil
  })

	if err := resources.Run(); err != nil {
		fmt.Println(err)
	}
}
```

### Create a Schedule with multiple middleware/handlers

```go
import (
	"fmt"

	"github.com/nitrictech/go-sdk/faas"
	"github.com/nitrictech/go-sdk/resources"
)

func generateReport(ctx *faas.EventContext, next faas.EventHandler) (*faas.EventContext, error) {
	// generate report

	return next(ctx)
}

func sendNotification(ctx *faas.EventContext, next faas.EventHandler) (*faas.EventContext, error) {
	// send notification with the report

	return next(ctx)
}

func main() {
	resources.NewSchedule("check for updates").Cron("0 1 1 * *", faas.ComposeEventMiddleware(generateReport, sendNotification))

	if err := resources.Run(); err != nil {
		fmt.Println(err)
	}
}
```
