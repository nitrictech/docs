export const description =
  "Reference for Nitric's JVM library - Creates a new Queue to send and receive asynchronous tasks."

# JVM - queue()

Creates a new Queue to send and receive asynchronous tasks.

<CodeGroup>

```java
import io.nitric.Nitric;
import io.nitric.resources.QueuePermission;

public class Application {
  public static void main(String[] args) {
    var queue = Nitric.INSTANCE.queue("batch").with(QueuePermission.Send);

    Nitric.INSTANCE.run();
  }
}
```

```kotlin
import io.nitric.Nitric
import io.nitric.resources.QueuePermission

fun main() {
    val queue = Nitric.queue("batch").with(QueuePermission.Send)

    Nitric.run()
}
```

</CodeGroup>

## Parameters

<Properties>
  <Property name="name" required type="String">
    The unique name of this Queue within the app. Subsequent calls to `queue`
    with the same name will return the same object.
  </Property>
</Properties>

## Access

All Nitric resources provide access permissions you can use to specify the level of access your code needs to the resource. See here for details [Access Control documentation](/assets/access-control).

### Available permissions:

---

**QueuePermission.Send**

This permission allows your code to send new tasks to the queue.

---

**QueuePermission.Receive**

This permission allows your code to receive tasks from the queue.

---

### Notes

In most instances, code should either send to or receive from a queue, usually not both.

## Examples

### Create a Queue

<CodeGroup>

```java
import io.nitric.Nitric;
import io.nitric.resources.QueuePermission;

public class Application {
  public static void main(String[] args) {
    var queue = Nitric.INSTANCE.queue("batch").with(QueuePermission.Send);

    Nitric.INSTANCE.run();
  }
}
```

```kotlin
import io.nitric.Nitric
import io.nitric.resources.QueuePermission

fun main() {
    val queue = Nitric.queue("batch").with(QueuePermission.Send)

    Nitric.run()
}
```

</CodeGroup>

### Receive tasks from a queue

<CodeGroup>

```java
import io.nitric.Nitric;
import io.nitric.resources.QueuePermission;

public class Application {
  public static void main(String[] args) {
    var queue = Nitric.INSTANCE.queue("batch").with(QueuePermission.Receive);

    var tasks = queue.receive(10);

    Nitric.INSTANCE.run();
  }
}
```

```kotlin
import io.nitric.Nitric
import io.nitric.resources.QueuePermission

fun main() {
    val queue = Nitric.queue("batch").with(QueuePermission.Receive)

    val tasks = queue.receive()

    Nitric.run()
}
```

</CodeGroup>
